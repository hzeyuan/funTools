(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sfzQuery/sfzQuery"],{"21c0":function(t,e,r){"use strict";(function(t){r("06f0"),r("921b");n(r("66fd"));var e=n(r("a2ce"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("543d")["createPage"])},"96d2":function(t,e,r){"use strict";var n,a=function(){var t=this,e=t.$createElement,r=(t._self._c,t.__map(t.sfzInfo,(function(e,r){var n=t.chineseFmt(r);return{$orig:t.__get_orig(e),m0:n}})));t.$mp.data=Object.assign({},{$root:{l0:r}})},s=[];r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return n}))},a2ce:function(t,e,r){"use strict";r.r(e);var n=r("96d2"),a=r("b382");for(var s in a)"default"!==s&&function(t){r.d(e,t,(function(){return a[t]}))}(s);var i,u=r("f0c5"),o=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=o.exports},b382:function(t,e,r){"use strict";r.r(e);var n=r("ca1b"),a=r.n(n);for(var s in n)"default"!==s&&function(t){r.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},ca1b:function(t,e,r){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{showSfzInfo:!1,sfz:"",sfzInfo:{city:"...",age:"...",sex:"男",birth:"1999-01-01",shengxiao:"兔",xingzuo:"天蝎"}}},methods:{setSfz:function(t){this.sfz=t.detail.value},sfzQuery:function(){var e=new this.IDCard;e.check(this.sfz)?(t.showLoading({title:"加载中"}),this.sfzInfo.birth=e.year+"-"+e.month+"-"+e.day,this.sfzInfo.age=this.getAge(this.sfzInfo.birth),this.sfzInfo.shengxiao=this.getShengxiao(e.year),this.sfzInfo.sex=e.sex,this.sfzInfo.xingzuo=this.getXingZuo(e.month,e.day),this.getLocation(),t.hideLoading(),this.showSfzInfo=!0):t.showToast({title:"身份证格式不正确"})},chineseFmt:function(t){return"city"==t?"城市":"age"==t?"年龄":"sex"==t?"性别":"birth"==t?"生日":"shengxiao"==t?"生肖":"xingzuo"==t?"星座":void 0},IDCard:function(t){var e=this;function r(t){var e=/^[0]*([0-9]*)$/;return t.match(e),parseInt(RegExp.$1,10)}function n(){var t=/^[0-9x]{15,18}$/i;if(!t.test(e.ID))return e.errNum=7,!1;if(15==e.ID.length||18==e.ID.length){var n=0;18==e.ID.length&&(n=2);var a=parseInt(e.ID.substr(6,2+n),10),s=r(e.ID.substr(8+n,2)),i=parseInt(e.ID.substr(10+n,2),10),u=parseInt(e.ID.substr(14+n,1),10)%2===0?"女":"男";return 4==a.length&&(a<1900||a>2050)&&(e.errNum=4),(s<1||s>12)&&(e.errNum=5),(i<1||i>31)&&(e.errNum=6),e.year=a,e.month=s,e.day=i,e.sex=u,0===e.errNum}return e.errNum=3,!1}this.checkCode=new Array(1,0,"X",9,8,7,6,5,4,3,2),this.ID,this.errNum=0,this.year=0,this.month=0,this.day=0,this.sex="",this.city="",this.err={1:"身份证校验不符合求和模11=1这个等式",2:"身份证最后一位校验位有误",3:"身份证位数不正确",4:"年份错误",5:"月份错误",6:"日错误"},this.err_msg=function(){return 0!==this.errNum?this.err[this.errNum]:null},this.check=function(t){return console.log("xiaoyan"),this.errNum=0,this.ID=t,console.log(t),!!n()&&0===a()};var a=function(){for(var t=0,r=1;r<=e.ID.length;r++){var n=e.ID.substr(e.ID.length-r,1);n="x"==n.toLowerCase()?10:n;var a=Math.pow(2,r-1)%11;t+=parseInt(n,10)*a}1!==t%11&&(e.errNum=1),t-=parseInt(e.ID.substr[0],10);var s=t%11,i=e.ID.substr(e.ID.length-1,1);return i==e.checkCode[s]&&(e.errNum=2),e.errNum}},getAge:function(t){var e=t.split("-"),r=e[0],n=e[1],a=e[2];f=new Date;var s,i=f.getFullYear(),u=f.getMonth()+1,o=f.getDate();if(null==e)return!1;var f=new Date(r,n-1,a);if(f.getFullYear()==r&&f.getMonth()+1==n&&f.getDate()==a){if(i==r)s=0;else{var c=i-r;if(!(c>0))return"出生日期晚于今天，数据有误";if(u==n){var h=o-a;s=h<0?c-1:c}else{var l=u-n;s=l<0?c-1:c}}return s}return"输入的日期格式错误！"},getShengxiao:function(t){var e=["子鼠","丑牛","寅虎","卯兔","辰龙","巳蛇","午马","未羊","申猴","酉鸡","戌狗","亥猪"],r=(parseInt(t,10)-1984)%12;return console.log(e[r]),e[r]},getXingZuo:function(t,e){var r=[{Start:121,End:220,Name:"水平座"},{Start:221,End:320,Name:"双鱼座"},{Start:321,End:420,Name:"白羊座"},{Start:421,End:520,Name:"金牛座"},{Start:521,End:620,Name:"双子座"},{Start:621,End:720,Name:"巨蟹座"},{Start:721,End:820,Name:"狮子座"},{Start:821,End:920,Name:"处女座"},{Start:921,End:1020,Name:"天秤座"},{Start:1021,End:1120,Name:"天蝎座"}],n=100*t+e;for(var a in r)if(n>=r[a].Start&&n<=r[a].End)return r[a].Name},getLocation:function(){var t=this,e=this.sfz.substr(0,2)+"0000",n=this.sfz.substr(0,4)+"00",a=this.sfz.substr(0,6),s="";return r.callFunction({name:"getLocations",data:{province:e,city:n,area:a}}).then((function(e){console.log(s),t.sfzInfo.city=e.result})),s}}};e.default=n}).call(this,r("543d")["default"],r("a9ff")["default"])}},[["21c0","common/runtime","common/vendor"]]]);