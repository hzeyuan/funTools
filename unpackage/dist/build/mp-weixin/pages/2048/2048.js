(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/2048/2048"],{2159:function(t,e,r){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c},n=[];r.d(e,"b",(function(){return a})),r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return i}))},"396f":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{score:0,maxscore:0,startx:0,starty:0,endx:0,endy:0,direction:"",numbers:[[0,0,2,2],[0,2,4,0],[0,4,0,0],[0,0,0,0]],animation:[["","","",""],["","","",""],["","","",""],["","","",""]],modalHidden:!0,move_animation:""}},onLoad:function(){this.maxscore=t.getStorageSync("maxscore")},methods:{onPullDownRefresh:function(){this.mergebottom(),wx.stopPullDownRefresh()},restart:function(){this.setData({modalHidden:!0,numbers:[[0,0,2,2],[0,2,4,0],[0,4,0,0],[0,0,0,0]],score:0})},storeScore:function(){console.log(this.maxscore,this.score),this.maxscore<this.score&&(this.setData({maxscore:this.score}),t.setStorageSync("maxscore",this.maxscore))},tapStart:function(t){this.setData({startx:t.touches[0].pageX,starty:t.touches[0].pageY})},tapMove:function(t){this.setData({endx:t.touches[0].pageX,endy:t.touches[0].pageY})},tapEnd:function(t){var e=this.endx?this.endx-this.startx:0,r=this.endy?this.endy-this.starty:0;if(Math.abs(e)>5||Math.abs(r)>5){var i=Math.abs(e)>Math.abs(r)?this.computeDir(1,e):this.computeDir(0,r);this.setData({startx:0,starty:0,endx:0,endy:0}),this.mergeAll(i)&&this.randInsert()}},computeDir:function(t,e){return t?e>0?"right":"left":e>0?"bottom":"top"},mergeAll:function(t){switch(this.checkGame(),t){case"left":return this.mergeleft();case"right":return this.mergeright();case"top":return console.log("上画"),this.mergetop();case"bottom":return this.mergebottom();default:}},mergeleft:function(){for(var t=this,e=!1,r=this.numbers,i=0;i<4;i++){for(var a=0;a<3;a++)if(0!=r[i][a])for(var n=1;n<4-a;n++)if(0!=r[i][a]&&0!=r[i][a+n]){if(r[i][a]!=r[i][a+n])break;r[i][a]=2*r[i][a],r[i][a+n]=0,e=!0,this.setData({score:this.score+r[i][a]/2});break}for(a=0;a<3;a++)if(0==r[i][a])for(n=1;n<4-a;n++)if(0!=r[i][a+n]){r[i][a]=r[i][a+n],r[i][a+n]=0,e=!0,this.animation[i][a]="animation-slide-right";break}}return setTimeout((function(){t.animation=[["","","",""],["","","",""],["","","",""],["","","",""]]}),200),this.setData({numbers:r}),this.storeScore(),e},mergeright:function(){for(var t=this,e=!1,r=this.numbers,i=0;i<4;i++){for(var a=3;a>0;a--)if(0!=r[i][a])for(var n=1;n<=a;n++)if(0!=r[i][a]&&0!=r[i][a-n]){if(r[i][a]!=r[i][a-n])break;r[i][a]=2*r[i][a],r[i][a-n]=0,e=!0,this.setData({score:this.score+r[i][a]/2});break}for(a=3;a>0;a--)if(0==r[i][a])for(n=1;n<=a;n++)if(0!=r[i][a-n]){r[i][a]=r[i][a-n],r[i][a-n]=0,e=!0,this.animation[i][a]="animation-slide-left";break}}return setTimeout((function(){t.animation=[["","","",""],["","","",""],["","","",""],["","","",""]]}),200),this.setData({numbers:r}),this.storeScore(),e},mergebottom:function(){for(var t=this,e=!1,r=this.numbers,i=0;i<4;i++){for(var a=3;a>0;a--)if(0!=r[a][i])for(var n=1;n<=a;n++)if(0!=r[a][i]&&0!=r[a-n][i]){if(r[a][i]!=r[a-n][i])break;r[a][i]=2*r[a][i],r[a-n][i]=0,e=!0,this.setData({score:this.score+r[i][a]/2});break}for(a=3;a>0;a--)if(0==r[a][i])for(n=1;n<=a;n++)if(0!=r[a-n][i]){r[a][i]=r[a-n][i],r[a-n][i]=0,this.animation[a][i]="animation-slide-top",e=!0;break}}return setTimeout((function(){t.animation=[["","","",""],["","","",""],["","","",""],["","","",""]]}),200),this.setData({numbers:r}),this.storeScore(),e},mergetop:function(){for(var t=this,e=!1,r=this.numbers,i=0;i<4;i++){for(var a=0;a<3;a++)if(0!=r[a][i])for(var n=1;n<4-a;n++)if(0!=r[a][i]&&0!=r[a+n][i]){if(r[a][i]!=r[a+n][i])break;r[a][i]=2*r[a][i],r[a+n][i]=0,e=!0,this.setData({score:this.score+r[i][a]/2});break}for(a=0;a<3;a++)if(0==r[a][i])for(n=1;n<4-a;n++)if(0!=r[a+n][i]){r[a][i]=r[a+n][i],r[a+n][i]=0,this.animation[a][i]="animation-slide-bottom",e=!0;break}}return setTimeout((function(){t.animation=[["","","",""],["","","",""],["","","",""],["","","",""]]}),200),this.setData({numbers:r}),this.storeScore(),e},randInsert:function(){for(var t=this.numbers,e=Math.random()<.8?2:4,r=[],i=0;i<4;i++)for(var a=0;a<4;a++)0==t[i][a]&&r.push([i,a]);var n=r[Math.floor(Math.random()*r.length)];t[n[0]][n[1]]=e,this.setData({numbers:t})},checkGame:function(){for(var t=this.numbers,e=0;e<4;e++)for(var r=0;r<4;r++)if(0==t[e][r])return;for(e=0;e<3;e++)for(r=0;r<3;r++)if(t[e][r]==t[e+1][r]||t[e][r]==t[e][r+1])return;for(r=0;r<3;r++){if(t[3][r]==t[3][r+1])return;if(t[r][3]==t[r+1][3])return}this.setData({modalHidden:!1})}}};e.default=r}).call(this,r("543d")["default"])},"45bd":function(t,e,r){},"4c65":function(t,e,r){"use strict";(function(t){r("06f0"),r("921b");i(r("66fd"));var e=i(r("4f5a"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,r("543d")["createPage"])},"4f5a":function(t,e,r){"use strict";r.r(e);var i=r("2159"),a=r("ef6c");for(var n in a)"default"!==n&&function(t){r.d(e,t,(function(){return a[t]}))}(n);r("cb15");var o,s=r("f0c5"),f=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"03a12c86",null,!1,i["a"],o);e["default"]=f.exports},cb15:function(t,e,r){"use strict";var i=r("45bd"),a=r.n(i);a.a},ef6c:function(t,e,r){"use strict";r.r(e);var i=r("396f"),a=r.n(i);for(var n in i)"default"!==n&&function(t){r.d(e,t,(function(){return i[t]}))}(n);e["default"]=a.a}},[["4c65","common/runtime","common/vendor"]]]);